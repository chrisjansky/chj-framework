$color-attributes: (
  (
    name: border,
    property: border-color
  ), (
    name: background,
    property: background-color
  ), (
    name: color,
    property: color
  )
);

@each $attribute in $color-attributes {

  $attribute-name: map-get($attribute, "name");
  $attribute-property: map-get($attribute, "property");
  /* Attribute: #{$attribute-name} */

  $color-groups: map-get($json, "colors");

  @each $color-name, $color-shades in $color-groups {
    /* Color group: #{$color-name} */
    $index: index($color-groups, $color-name); 
    @each $color-shade in $color-shades {
      $shade-name: map-get($color-shade, "name");
      $shade-value: map-get($color-shade, "value");

      .#{$attribute-name}-#{$index}--#{$shade-name} {
        #{$attribute-property}: $shade-value;
      }

    }
  }

  $greys: map-get($json, "greys");

  /* Greys */
  @each $grey in $greys {
    $grey-name: map-get($grey, "name");
    $grey-value: map-get($grey, "value");

    .#{$attribute-name}-grey--#{$grey-name} {
      #{$attribute-property}: $grey-value;
    }
  }

}
